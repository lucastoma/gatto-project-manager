{"timestamp":"2025-06-08T18:24:34.758770","level":"ERROR","logger":"gattonero_server","message":"Request error: name 'request' is not defined","module":"development_logger","function":"error","line":302,"request_id":"9b59f91e","operation_id":null,"algorithm_id":null,"user_session":null,"performance_data":null}
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 22, in <module>
    from flask import Flask, jsonify, request
ModuleNotFoundError: No module named 'flask'
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 22, in <module>
    from flask import Flask, jsonify, request
ModuleNotFoundError: No module named 'flask'
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 22, in <module>
    from flask import Flask, jsonify, request
ModuleNotFoundError: No module named 'flask'
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 22, in <module>
    from flask import Flask, jsonify, request
ModuleNotFoundError: No module named 'flask'
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 22, in <module>
    from flask import Flask, jsonify, request
ModuleNotFoundError: No module named 'flask'
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 7, in <module>
    from app.server import app
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 22, in <module>
    from flask import Flask, jsonify, request
ModuleNotFoundError: No module named 'flask'
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 7, in <module>
    from app.server import app
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 22, in <module>
    from flask import Flask, jsonify, request
ModuleNotFoundError: No module named 'flask'
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 7, in <module>
    from app.server import app
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 22, in <module>
    from flask import Flask, jsonify, request
ModuleNotFoundError: No module named 'flask'
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 78, in <module>
    safe_start_server()
    ~~~~~~~~~~~~~~~~~^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 48, in safe_start_server
    print("\U0001f50d Sprawdzam port 5000...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f50d' in position 0: character maps to <undefined>
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [08/Jun/2025 23:02:56] "GET /api/health HTTP/1.1" 200 -
D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\sklearn\base.py:1363: ConvergenceWarning: Number of distinct clusters (4) found smaller than n_clusters (8). Possibly due to duplicate points in X.
  return fit_method(estimator, *args, **kwargs)
D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\sklearn\base.py:1363: ConvergenceWarning: Number of distinct clusters (4) found smaller than n_clusters (8). Possibly due to duplicate points in X.
  return fit_method(estimator, *args, **kwargs)
127.0.0.1 - - [08/Jun/2025 23:03:54] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [08/Jun/2025 23:03:54] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [08/Jun/2025 23:03:54] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [08/Jun/2025 23:04:01] "GET /api/health HTTP/1.1" 200 -
D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\sklearn\base.py:1363: ConvergenceWarning: Number of distinct clusters (4) found smaller than n_clusters (8). Possibly due to duplicate points in X.
  return fit_method(estimator, *args, **kwargs)
D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\sklearn\base.py:1363: ConvergenceWarning: Number of distinct clusters (4) found smaller than n_clusters (8). Possibly due to duplicate points in X.
  return fit_method(estimator, *args, **kwargs)
127.0.0.1 - - [08/Jun/2025 23:04:01] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [08/Jun/2025 23:04:01] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [08/Jun/2025 23:04:01] "POST /api/colormatch HTTP/1.1" 200 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 07:57:15] "GET /api/health HTTP/1.1" 200 -
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 7, in <module>
    from app.server import app
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 30, in <module>
    from app.api.routes import app as api_blueprint
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 5, in <module>
    from app.algorithms import get_algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\__init__.py", line 16, in <module>
    from .algorithm_01_palette import (
        create_palette_mapping_algorithm
    )
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\__init__.py", line 8, in <module>
    from .algorithm import (
    ...<2 lines>...
    )
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 5, in <module>
    from tqdm import tqdm
ModuleNotFoundError: No module named 'tqdm'
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\run_server.py", line 7, in <module>
    from app.server import app
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\server.py", line 30, in <module>
    from app.api.routes import app as api_blueprint
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 5, in <module>
    from app.algorithms import get_algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\__init__.py", line 16, in <module>
    from .algorithm_01_palette import (
        create_palette_mapping_algorithm
    )
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\__init__.py", line 8, in <module>
    from .algorithm import (
    ...<2 lines>...
    )
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 5, in <module>
    from tqdm import tqdm
ModuleNotFoundError: No module named 'tqdm'
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 09:07:20] "GET /api/health HTTP/1.1" 200 -
[2025-06-09 10:28:58,638] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 52, in colormatch_endpoint
    target_path = save_temp_file(target_file)
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'PaletteMappingAlgorithm' object has no attribute 'process'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 60, in colormatch_endpoint
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:28:58] "POST /api/colormatch HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:28:58] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 10:28:58] "POST /api/colormatch HTTP/1.1" 200 -
[2025-06-09 10:28:58,806] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 52, in colormatch_endpoint
    target_path = save_temp_file(target_file)
                       ^^^^^^^^^^^^^^^^^
AttributeError: 'PaletteMappingAlgorithm' object has no attribute 'process'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 60, in colormatch_endpoint
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:28:58] "POST /api/colormatch HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:28:58] "POST /api/colormatch/preview HTTP/1.1" 404 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 10:29:28] "GET /api/health HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749457794.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749457794.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 438, in process_images
    if output_path.lower().endswith('.png'):
       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'lower'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 446, in process_images
    self.logger.error(f"\u274c Error during saving: {e}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: "\u274c Error during saving: 'NoneType' object has no attribute 'lower'"
Arguments: ()
[2025-06-09 10:29:54,201] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 61, in colormatch_endpoint
    result_filename = os.path.basename(result_file_path)
  File "<frozen ntpath>", line 256, in basename
  File "<frozen ntpath>", line 227, in split
TypeError: expected str, bytes or os.PathLike object, not bool

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 67, in colormatch_endpoint
    logger.error(f"Dopasowywanie kolorów nie powiod³o siê: {str(e)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:29:54] "POST /api/colormatch HTTP/1.1" 500 -
[2025-06-09 10:29:54,213] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
                       ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'StatisticalTransferAlgorithm' object has no attribute 'process_images'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 67, in colormatch_endpoint
    logger.error(f"Dopasowywanie kolorów nie powiod³o siê: {str(e)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:29:54] "POST /api/colormatch HTTP/1.1" 500 -
[2025-06-09 10:29:54,229] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
                       ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HistogramMatchingAlgorithm' object has no attribute 'process_images'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 67, in colormatch_endpoint
    logger.error(f"Dopasowywanie kolorów nie powiod³o siê: {str(e)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:29:54] "POST /api/colormatch HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749457794.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749457794.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 438, in process_images
    if output_path.lower().endswith('.png'):
       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'lower'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params) # output_path will be handled by algorithm
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 446, in process_images
    self.logger.error(f"\u274c Error during saving: {e}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: "\u274c Error during saving: 'NoneType' object has no attribute 'lower'"
Arguments: ()
[2025-06-09 10:29:54,260] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 61, in colormatch_endpoint
    result_filename = os.path.basename(result_file_path)
  File "<frozen ntpath>", line 256, in basename
  File "<frozen ntpath>", line 227, in split
TypeError: expected str, bytes or os.PathLike object, not bool

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 67, in colormatch_endpoint
    logger.error(f"Dopasowywanie kolorów nie powiod³o siê: {str(e)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:29:54] "POST /api/colormatch HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749457794.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749457794.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 97-98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 392, in process_images
    self.logger.info("\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.'
Arguments: ()
[2025-06-09 10:29:54,277] ERROR in app: Exception on /api/colormatch/preview [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    result_file_path = algorithm.process_images(master_path, target_path, output_path=None, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 395, in process_images
    temp_dir = os.path.dirname(output_path)
  File "<frozen ntpath>", line 263, in dirname
  File "<frozen ntpath>", line 227, in split
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    logger.error(f"Podgl¹d dopasowywania kolorów nie powiód³ siê: {str(e)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:29:54] "POST /api/colormatch/preview HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749458705.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749458705.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 438, in process_images
    if output_path.lower().endswith('.png'):
       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'lower'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 446, in process_images
    self.logger.error(f"\u274c Error during saving: {e}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: "\u274c Error during saving: 'NoneType' object has no attribute 'lower'"
Arguments: ()
[2025-06-09 10:45:05,997] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 61, in colormatch_endpoint
    result_file_path = get_result_path(output_filename)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 256, in basename
  File "<frozen ntpath>", line 227, in split
TypeError: expected str, bytes or os.PathLike object, not bool

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 67, in colormatch_endpoint
    logger.success(f"Dopasowywanie kolorów zakoñczone: {result_filename}")
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:45:05] "POST /api/colormatch HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
[2025-06-09 10:45:06,008] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
                       ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'StatisticalTransferAlgorithm' object has no attribute 'process_images'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 67, in colormatch_endpoint
    logger.success(f"Dopasowywanie kolorów zakoñczone: {result_filename}")
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:45:06] "POST /api/colormatch HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
[2025-06-09 10:45:06,019] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
                       ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'HistogramMatchingAlgorithm' object has no attribute 'process_images'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 67, in colormatch_endpoint
    logger.success(f"Dopasowywanie kolorów zakoñczone: {result_filename}")
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:45:06] "POST /api/colormatch HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749458706.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749458706.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 438, in process_images
    if output_path.lower().endswith('.png'):
       ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'lower'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 59, in colormatch_endpoint
    if algorithm_id == 'algorithm_01_palette':
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 446, in process_images
    self.logger.error(f"\u274c Error during saving: {e}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: "\u274c Error during saving: 'NoneType' object has no attribute 'lower'"
Arguments: ()
[2025-06-09 10:45:06,045] ERROR in app: Exception on /api/colormatch [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 61, in colormatch_endpoint
    result_file_path = get_result_path(output_filename)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 256, in basename
  File "<frozen ntpath>", line 227, in split
TypeError: expected str, bytes or os.PathLike object, not bool

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 67, in colormatch_endpoint
    logger.success(f"Dopasowywanie kolorów zakoñczone: {result_filename}")
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:45:06] "POST /api/colormatch HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    if not master_path or not target_path:
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    if not master_path or not target_path:
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749458706.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    if not master_path or not target_path:
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749458706.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 97-98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    if not master_path or not target_path:
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 392, in process_images
    self.logger.info("\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.'
Arguments: ()
[2025-06-09 10:45:06,061] ERROR in app: Exception on /api/colormatch/preview [POST]
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 116, in colormatch_preview_endpoint
    if not master_path or not target_path:
                       ^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 395, in process_images
    temp_dir = os.path.dirname(output_path)
  File "<frozen ntpath>", line 263, in dirname
  File "<frozen ntpath>", line 227, in split
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
                             exc_info, func, extra, sinfo)
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
127.0.0.1 - - [09/Jun/2025 10:45:06] "POST /api/colormatch/preview HTTP/1.1" 500 -
Error on request:
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
    ~~~~~~~^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1527, in wsgi_app
    ctx.pop(error)
    ~~~~~~~^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\ctx.py", line 410, in pop
    self.app.do_teardown_request(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1356, in do_teardown_request
    self.ensure_sync(func)(exc)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 350, in teardown_request
    logger.error(f"Request error: {str(exception)}", exc_info=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1548, in error
    self._log(ERROR, msg, args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1662, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\logging\__init__.py", line 1636, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'exc_info' in LogRecord"
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 10:45:45] "GET /api/health HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749458751.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749458751.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2543, in save
    format = EXTENSION[ext]
             ~~~~~~~~~^^^^^
KeyError: ''

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 441, in process_images
    result.save(output_path)
    ~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2546, in save
    raise ValueError(msg) from e
ValueError: unknown file extension: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 446, in process_images
    self.logger.error(f"\u274c Error during saving: {e}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u274c Error during saving: unknown file extension: '
Arguments: ()
127.0.0.1 - - [09/Jun/2025 10:45:51] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 10:45:51] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 10:45:51] "POST /api/colormatch HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749458751.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749458751.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2543, in save
    format = EXTENSION[ext]
             ~~~~~~~~~^^^^^
KeyError: ''

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 441, in process_images
    result.save(output_path)
    ~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2546, in save
    raise ValueError(msg) from e
ValueError: unknown file extension: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 446, in process_images
    self.logger.error(f"\u274c Error during saving: {e}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u274c Error during saving: unknown file extension: '
Arguments: ()
127.0.0.1 - - [09/Jun/2025 10:45:51] "POST /api/colormatch HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749458751.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749458751.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 97-98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 392, in process_images
    self.logger.info("\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2543, in save
    format = EXTENSION[ext]
             ~~~~~~~~~^^^^^
KeyError: ''

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 441, in process_images
    result.save(output_path)
    ~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2546, in save
    raise ValueError(msg) from e
ValueError: unknown file extension: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 123, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 446, in process_images
    self.logger.error(f"\u274c Error during saving: {e}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u274c Error during saving: unknown file extension: '
Arguments: ()
127.0.0.1 - - [09/Jun/2025 10:45:51] "POST /api/colormatch/preview HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:07:01] "GET /api/health HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): master_1749460035021_1749460037.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): target_1749460035678_1749460037.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 16 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2543, in save
    format = EXTENSION[ext]
             ~~~~~~~~~^^^^^
KeyError: ''

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 441, in process_images
    result.save(output_path)
    ~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2546, in save
    raise ValueError(msg) from e
ValueError: unknown file extension: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 446, in process_images
    self.logger.error(f"\u274c Error during saving: {e}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u274c Error during saving: unknown file extension: '
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:07:33] "POST /api/colormatch HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): master_1749460271925_1749460273.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): target_1749460272351_1749460273.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 16 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2543, in save
    format = EXTENSION[ext]
             ~~~~~~~~~^^^^^
KeyError: ''

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 441, in process_images
    result.save(output_path)
    ~~~~~~~~~~~^^^^^^^^^^^^^
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\PIL\Image.py", line 2546, in save
    raise ValueError(msg) from e
ValueError: unknown file extension: 

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 62, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 446, in process_images
    self.logger.error(f"\u274c Error during saving: {e}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 303, in error
    self.logger.error(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u274c Error during saving: unknown file extension: '
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:11:28] "POST /api/colormatch HTTP/1.1" 200 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 11:13:34] "GET /api/health HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749460422.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749460422.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4be' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 443, in process_images
    self.logger.info(f"\U0001f4be Result saved: {output_path}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4be Result saved: D:\\Unity\\Projects\\GattoNeroPhotoshop\\results\\test_simple_1749460422_matched.tif'
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:13:42] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:13:43] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:13:43] "POST /api/colormatch HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749460423.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749460423.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4be' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 443, in process_images
    self.logger.info(f"\U0001f4be Result saved: {output_path}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4be Result saved: D:\\Unity\\Projects\\GattoNeroPhotoshop\\results\\test_simple_1749460423_matched.tif'
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:13:43] "POST /api/colormatch HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749460423.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749460423.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 97-98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 392, in process_images
    self.logger.info("\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4be' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 443, in process_images
    self.logger.info(f"\U0001f4be Result saved: {output_path}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4be Result saved: D:\\Unity\\Projects\\GattoNeroPhotoshop\\results\\test_simple_1749460423_matched.tif'
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:13:43] "POST /api/colormatch/preview HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): master_1749460442527_1749460443.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): target_1749460442993_1749460443.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 16 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4be' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 443, in process_images
    self.logger.info(f"\U0001f4be Result saved: {output_path}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4be Result saved: D:\\Unity\\Projects\\GattoNeroPhotoshop\\results\\target_1749460442993_1749460443_matched.tif'
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:14:19] "POST /api/colormatch HTTP/1.1" 200 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 11:17:51] "GET /api/health HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749460676.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749460676.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:17:56] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:17:56] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:17:56] "POST /api/colormatch HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749460676.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749460676.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:17:57] "POST /api/colormatch HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): test_image_1749460677.png'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): test_simple_1749460677.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 97-98: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 392, in process_images
    self.logger.info("\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f5bc\ufe0f Preview mode: scaling images to a smaller resolution.'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 4 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 125, in colormatch_preview_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:17:57] "POST /api/colormatch/preview HTTP/1.1" 200 -
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 380, in process_images
    self.logger.info(f"\U0001f3a8 Starting {self.name} v{self.version}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Starting Simple Palette Mapping v1.2'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 381, in process_images
    self.logger.info(f"\U0001f4c1 Master (palette): {os.path.basename(master_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Master (palette): master_1749460701218_1749460702.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f4c1' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 382, in process_images
    self.logger.info(f"\U0001f4c1 Target (destination): {os.path.basename(target_path)}")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f4c1 Target (destination): target_1749460701623_1749460702.tif'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3af' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 412, in process_images
    self.logger.info("\U0001f3af Extracting color palette from MASTER image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3af Extracting color palette from MASTER image...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2705' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 414, in process_images
    self.logger.info(f"\u2705 Extracted {len(master_palette)} colors from the master palette")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\u2705 Extracted 16 colors from the master palette'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3a8' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 417, in process_images
    self.logger.info("\U0001f3a8 Sample colors from master palette:")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f3a8 Sample colors from master palette:'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1250.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f504' in position 97: character maps to <undefined>
Call stack:
  File "C:\Python313\Lib\threading.py", line 1012, in _bootstrap
    self._bootstrap_inner()
  File "C:\Python313\Lib\threading.py", line 1041, in _bootstrap_inner
    self.run()
  File "C:\Python313\Lib\threading.py", line 992, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Python313\Lib\socketserver.py", line 697, in process_request_thread
    self.finish_request(request, client_address)
  File "C:\Python313\Lib\socketserver.py", line 362, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "C:\Python313\Lib\socketserver.py", line 766, in __init__
    self.handle()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 398, in handle
    super().handle()
  File "C:\Python313\Lib\http\server.py", line 436, in handle
    self.handle_one_request()
  File "C:\Python313\Lib\http\server.py", line 424, in handle_one_request
    method()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Unity\Projects\GattoNeroPhotoshop\venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\api\routes.py", line 63, in colormatch_endpoint
    algorithm.process_images(master_path, target_path, output_path=result_file_path, **params)
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\algorithms\algorithm_01_palette\algorithm.py", line 424, in process_images
    self.logger.info("\U0001f504 Applying color mapping to TARGET image...")
  File "D:\Unity\Projects\GattoNeroPhotoshop\app\core\development_logger.py", line 295, in info
    self.logger.info(message, extra={**self._get_extra(), **(extra or {}), **kwargs})
Message: '\U0001f504 Applying color mapping to TARGET image...'
Arguments: ()
127.0.0.1 - - [09/Jun/2025 11:18:38] "POST /api/colormatch HTTP/1.1" 200 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 11:21:13] "GET /api/health HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:21:18] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:21:18] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:21:18] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:21:18] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:21:18] "POST /api/colormatch/preview HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:21:50] "POST /api/colormatch HTTP/1.1" 200 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 11:25:04] "GET /api/health HTTP/1.1" 200 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 11:25:11] "GET /api/health HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:25:15] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:25:15] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:25:15] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:25:16] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:25:16] "POST /api/colormatch/preview HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:25:51] "POST /api/colormatch HTTP/1.1" 200 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 11:30:20] "GET /api/health HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:30:26] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:30:26] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:30:26] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:30:26] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:30:26] "POST /api/colormatch/preview HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:31:11] "POST /api/colormatch HTTP/1.1" 200 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 11:35:44] "GET /api/health HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:37:12] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:46:50] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:48:30] "POST /api/colormatch HTTP/1.1" 200 -
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
Press CTRL+C to quit
127.0.0.1 - - [09/Jun/2025 11:57:16] "GET /api/health HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:57:25] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:57:25] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:57:25] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:57:25] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:57:25] "POST /api/colormatch/preview HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 11:58:00] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 12:05:48] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 12:10:06] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 12:14:02] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 12:15:08] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 12:18:42] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 15:52:44] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 15:54:01] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 16:09:45] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 16:10:51] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 16:14:39] "POST /api/colormatch HTTP/1.1" 200 -
127.0.0.1 - - [09/Jun/2025 16:16:16] "POST /api/colormatch HTTP/1.1" 200 -
