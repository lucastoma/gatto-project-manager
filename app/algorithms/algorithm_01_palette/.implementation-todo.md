# TODO: Implementacja Algorithm 01: Palette Mapping

## FAZA 1: Migracja i Adaptacja Kodu
- [ ] Stworzenie brakujących plików w module: `algorithm.py`, `config.py`, `tests.py`.
- [ ] Skopiowanie klasy `SimplePaletteMapping` z `.implementation-knowledge.md` do pliku `algorithm.py`.
- [ ] Adaptacja klasy w `algorithm.py`:
    - [ ] Poprawienie importów, aby pasowały do nowej struktury (np. `from app.core...`).
    - [ ] Dodanie inicjalizacji logera i profilera w metodzie `__init__`.
    - [ ] Zmiana nazwy klasy na `PaletteMappingAlgorithm`, aby pasowała do konwencji.
- [ ] Stworzenie funkcji-fabryki `create_palette_mapping_algorithm()` w `algorithm.py`.

## FAZA 2: Integracja z Systemem
- [ ] Zaktualizowanie pliku `app/algorithms/algorithm_01_palette/__init__.py`, aby eksportował nową klasę i fabrykę.
- [ ] Weryfikacja, czy algorytm jest poprawnie dodany do `ALGORITHM_REGISTRY` w `app/algorithms/__init__.py`.
- [ ] Weryfikacja, czy `algorithm_map` w `app/api/routes.py` poprawnie mapuje `method: '1'` na `algorithm_01_palette`.

## FAZA 3: Testowanie
- [ ] Implementacja testów jednostkowych w `tests.py`, dziedziczących po `BaseAlgorithmTestCase`.
- [ ] Napisanie testu weryfikującego poprawność ekstrakcji palety.
- [ ] Napisanie testu weryfikującego poprawność mapowania kolorów.
- [ ] Napisanie testu sprawdzającego obsługę błędnych parametrów (np. `k_colors` poza zakresem).
- [ ] Uruchomienie i potwierdzenie, że wszystkie nowe testy przechodzą pomyślnie.
- [ ] Uruchomienie testów integracyjnych (`test_algorithm_integration.py`) i potwierdzenie, że system wciąż działa spójnie.

## FAZA 4: Finalizacja i Czyszczenie
- [ ] Edycja pliku `.implementation-knowledge.md`:
    - [ ] Usunięcie pełnej implementacji klasy Pythona.
    - [ ] Pozostawienie jedynie teorii, pseudokodu i kluczowych fragmentów.
    - [ ] Dodanie linku/referencji do pliku `algorithm.py` jako finalnego źródła prawdy o kodzie.
- [ ] Usunięcie starego, źródłowego dokumentu `gatto-WORKING-03...md` z folderu `doc/`, aby uniknąć duplikacji.